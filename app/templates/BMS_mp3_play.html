<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>BMS - MP3 Player</title>

    <!-- CSS -->
    <link rel="stylesheet" href="/static/css/BMS_mp3_play.css">
</head>
<body>

<div class="page-wrapper">

    <!-- ============================
         TOP BAR
    ============================ -->
    <header class="topbar shadow">
        <h2 class="home-btn" onclick="goHome()">ğŸµ BMS MP3 Player</h2>
        <button class="btn back-btn" onclick="goBack()">â¬… Kembali</button>
    </header>


    <!-- ============================
         MAIN PLAYER AREA
    ============================ -->
    <main class="player-section">

        <div class="player-box glass-card">

            <!-- Judul Track -->
            <h3 id="trackTitle" class="track-title fade-text">Memuat...</h3>

            <!-- AUDIO -->
            <audio id="audioPlayer" controls class="audio-core">
                Browser kamu tidak mendukung audio.
            </audio>

            <!-- Kontrol -->
            <div class="control-row" id="controlRow">

                <!-- Prev / Next -->
                <button class="ctrl-btn" id="prevBtn">â®</button>
                <button class="ctrl-btn" id="nextBtn">â­</button>

                <!-- Shuffle / Repeat -->
                <button class="ctrl-btn" id="shuffleBtn">ğŸ”€</button>
                <button class="ctrl-btn" id="repeatBtn">ğŸ”</button>

                <!-- Reload -->
                <button class="ctrl-btn" id="reloadBtn">ğŸ”„</button>

                <!-- â¤ï¸ Favorite akan disisipkan otomatis oleh JS -->

            </div>

            <!-- Volume -->
            <div class="volume-box">
                <span id="volumeIcon">ğŸ”Š</span>
                <input type="range" id="volumeSlider" min="0" max="100" value="100">
            </div>

        </div>


        <!-- ============================
             PLAYLIST
        ============================ -->
        <aside class="playlist-container glass-card">
            <h3 class="playlist-title">Playlist Folder</h3>
            <div id="playlist" class="playlist"></div>
        </aside>

    </main>

</div> <!-- wrapper end -->


<!-- JS -->
<script src="/static/js/BMS_mp3_play.js"></script>

<script>
    const params = new URLSearchParams(window.location.search);
    const mp3Id   = params.get("id") || window.location.pathname.split("/").pop();
    const folderId = params.get("folder");

    initPlayer(mp3Id, folderId);
</script>

</body>
</html>
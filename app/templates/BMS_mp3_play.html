<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>BMS - MP3 Player</title>

    <!-- CSS -->
    <link rel="stylesheet" href="/static/css/BMS_mp3_play.css">
</head>
<body>

<!-- ============================
     TOP BAR
============================ -->
<div class="topbar">
    <h2 class="home-btn" onclick="goHome()">ğŸµ MP3 Player</h2>

    <button class="btn back-btn" onclick="goBack()">â¬… Kembali</button>
</div>

<!-- ============================
     AUDIO PLAYER
============================ -->
<div class="player-box">

    <!-- Judul Track -->
    <h3 id="trackTitle" class="track-title fade-title">Memuat...</h3>

    <!-- Player HTML5 -->
    <audio id="audioPlayer" controls class="audio-core">
        Browser kamu tidak mendukung audio.
    </audio>

    <!-- Kontrol Utama -->
    <div class="control-row">

        <!-- Prev -->
        <button class="ctrl-btn" onclick="prevTrack()" id="prevBtn">â®</button>

        <!-- Next -->
        <button class="ctrl-btn" onclick="nextTrack()" id="nextBtn">â­</button>

        <!-- Shuffle -->
        <button class="ctrl-btn" id="shuffleBtn" onclick="toggleShuffle()">ğŸ”€</button>

        <!-- Repeat -->
        <button class="ctrl-btn" id="repeatBtn" onclick="toggleRepeat()">ğŸ”</button>

        <!-- Reload -->
        <button class="ctrl-btn" onclick="reloadTrack()" id="reloadBtn">ğŸ”„</button>
    </div>

    <!-- Volume -->
    <div class="volume-box">
        <span id="volumeIcon">ğŸ”Š</span>
        <input type="range" id="volumeSlider" min="0" max="100" value="100">
    </div>

</div>


<!-- ============================
     PLAYLIST
============================ -->
<div class="playlist-container">
    <h3 class="playlist-title">Playlist Folder</h3>
    <div id="playlist" class="playlist"></div>
</div>


<!-- JS -->
<script src="/static/js/BMS_mp3_play.js"></script>

<script>
    /* Ambil parameter dari URL */
    const params = new URLSearchParams(window.location.search);
    const mp3Id   = params.get("id") || window.location.pathname.split("/").pop();
    const folderId = params.get("folder");

    /* Jalankan player */
    initPlayer(mp3Id, folderId);
</script>

</body>
</html>